entity Student{
  name: String

  compilation = submissions.assignment.name + submissions.grade
}

entity Assignment{
  name: String
  minimum: Float?

  p = submissions.q
}

entity Submission{
  grade: Float?
  pass: Boolean = grade >= assignment.minimum && conj(childPass) <+ false

  x = if(true) 5 else 4

  childPass = children.pass
  average = avg(children.grade)

  q = assignment

  pass2 = pass || average > 5.5
}


relation Submission.assignment 1 <-> * Assignment.submissions
relation Student.submissions * <-> 1 Submission.student
relation Submission.parent 1 <-> * Submission.children


entity A{
  amount: Int
  weight: Float
  value: Float = children.value + amount * weight
  
  a = b
  b = c
  c = d
  d = 2
}

relation A.parent 1 <-> * A.children
